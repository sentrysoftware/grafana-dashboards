{
  "__inputs": [
    {
      "name": "DS_PROMETHEUS",
      "label": "Prometheus",
      "description": "",
      "type": "datasource",
      "pluginId": "prometheus",
      "pluginName": "Prometheus"
    }
  ],
  "__elements": {},
  "__requires": [
    {
      "type": "panel",
      "id": "barchart",
      "name": "Bar chart",
      "version": ""
    },
    {
      "type": "panel",
      "id": "bargauge",
      "name": "Bar gauge",
      "version": ""
    },
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "10.2.0"
    },
    {
      "type": "panel",
      "id": "piechart",
      "name": "Pie chart",
      "version": ""
    },
    {
      "type": "datasource",
      "id": "prometheus",
      "name": "Prometheus",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "stat",
      "name": "Stat",
      "version": ""
    },
    {
      "type": "panel",
      "id": "table",
      "name": "Table",
      "version": ""
    },
    {
      "type": "panel",
      "id": "text",
      "name": "Text",
      "version": ""
    },
    {
      "type": "panel",
      "id": "timeseries",
      "name": "Time series",
      "version": ""
    }
  ],
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": null,
  "links": [
    {
      "asDropdown": false,
      "icon": "external link",
      "includeVars": false,
      "keepTime": false,
      "tags": [
        "hw_site"
      ],
      "targetBlank": false,
      "title": "Site",
      "tooltip": "",
      "type": "dashboards",
      "url": ""
    }
  ],
  "liveNow": false,
  "panels": [
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 358,
      "title": "Overall Information",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The number of hosts currently configured to be monitored.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              }
            ]
          },
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 0,
        "y": 1
      },
      "id": 188,
      "interval": "2m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(present_over_time(hardware_sentry_host_configured[1h]))",
          "instant": true,
          "interval": "",
          "legendFormat": "Hosts",
          "refId": "A"
        }
      ],
      "title": "Hosts",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The percentage of monitored hosts.\n\nA monitored host is a host with at least one responding connector.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [],
          "noValue": "0%",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "super-light-red",
                "value": null
              },
              {
                "color": "super-light-yellow",
                "value": 0.5
              },
              {
                "color": "super-light-green",
                "value": 0.9
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 2,
        "y": 1
      },
      "id": 359,
      "interval": "2m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "count(max by (host_id, site) (hardware_sentry_connector_status{state=\"ok\"} == 1)) / sum(present_over_time(hardware_sentry_host_configured[1h]))",
          "instant": true,
          "interval": "",
          "legendFormat": "Coverage",
          "refId": "A"
        }
      ],
      "title": "Coverage",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "links": [],
          "mappings": [],
          "noValue": "0",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "transparent",
                "value": null
              },
              {
                "color": "red",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 4,
        "y": 1
      },
      "id": 301,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "value"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "count(ALERTS_FOR_STATE{severity=\"critical\"})",
          "instant": true,
          "interval": "",
          "legendFormat": "Critical Alerts",
          "refId": "A"
        }
      ],
      "title": "Critical Alerts",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "links": [],
          "mappings": [],
          "noValue": "0",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "transparent",
                "value": null
              },
              {
                "color": "#EAB839",
                "value": 1
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 2,
        "x": 6,
        "y": 1
      },
      "id": 303,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "value"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "count(ALERTS_FOR_STATE{severity=\"warn\"})",
          "instant": true,
          "interval": "",
          "legendFormat": "Warning Alerts",
          "refId": "A"
        }
      ],
      "title": "Warning Alerts",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "fixed"
          },
          "custom": {
            "align": "auto",
            "cellOptions": {
              "type": "auto"
            },
            "filterable": true,
            "inspect": false
          },
          "links": [],
          "mappings": [],
          "noValue": "No alerts",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Severity"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 109
              },
              {
                "id": "mappings",
                "value": [
                  {
                    "options": {
                      "critical": {
                        "color": "red",
                        "index": 1,
                        "text": "Critical"
                      },
                      "warn": {
                        "color": "orange",
                        "index": 0,
                        "text": "Warn"
                      }
                    },
                    "type": "value"
                  }
                ]
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "mode": "basic",
                  "type": "color-background"
                }
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "protocol"
            },
            "properties": [
              {
                "id": "noValue",
                "value": "N/A"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Device Type"
            },
            "properties": [
              {
                "id": "noValue",
                "value": "N/A"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 219
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 16,
        "x": 8,
        "y": 1
      },
      "id": 365,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "enablePagination": true,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": [
          {
            "desc": false,
            "displayName": "Time"
          }
        ]
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "ALERTS_FOR_STATE{site != \"\", host_name != \"\"}",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "title": "Current Alerts",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "Time",
                "host_name",
                "name",
                "severity",
                "site",
                "hw_type",
                "protocol",
                "alertname"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": false,
              "Value": true,
              "Value #A": true,
              "__name__": true,
              "agent_host_name": true,
              "alertstatus": true,
              "alertstatus_code": true,
              "applies_to_os": true,
              "array_name": true,
              "bandwidth": true,
              "battery_state": true,
              "blade_name": true,
              "chemistry": true,
              "compiled_file_name": true,
              "connector_id": true,
              "description": true,
              "device_id": true,
              "device_type": true,
              "display_name": true,
              "driver_version": true,
              "firmware_version": true,
              "fqdn": true,
              "host_id": true,
              "host_name": false,
              "host_type": true,
              "hw_type": false,
              "id": true,
              "identifying_information": true,
              "info": true,
              "instance": true,
              "ip_address": true,
              "job": true,
              "local_device_name": true,
              "location": true,
              "logical_address": true,
              "model": true,
              "name": false,
              "os_type": true,
              "parent": true,
              "physical_address": true,
              "power_supply_type": true,
              "raid_level": true,
              "robotic_type": true,
              "sensor_location": true,
              "serial_number": true,
              "severity": false,
              "site": false,
              "state": true,
              "type": true,
              "vendor": true,
              "wwn": true,
              "zone": true
            },
            "indexByName": {
              "Time": 0,
              "Value": 16,
              "__name__": 10,
              "agent_host_name": 11,
              "alertname": 2,
              "applies_to_os": 23,
              "bandwidth": 27,
              "blade_name": 34,
              "connector_id": 24,
              "description": 25,
              "device_id": 17,
              "device_type": 26,
              "firmware_version": 32,
              "host_id": 12,
              "host_name": 4,
              "host_type": 13,
              "hw_type": 5,
              "id": 8,
              "info": 18,
              "ip_address": 36,
              "location": 22,
              "logical_address": 31,
              "model": 19,
              "name": 6,
              "os_type": 14,
              "parent": 9,
              "physical_address": 28,
              "power_supply_type": 33,
              "protocol": 7,
              "raid_level": 35,
              "sensor_location": 30,
              "serial_number": 29,
              "severity": 1,
              "site": 3,
              "state": 15,
              "type": 20,
              "vendor": 21
            },
            "renameByName": {
              "Time": "Time",
              "alertname": "Alert Name",
              "fqdn": "",
              "host_name": "Hostname",
              "hw_type": "Device Type",
              "id": "",
              "label": "Label",
              "name": "Device Name",
              "os_type": "",
              "protocol": "Protocol",
              "severity": "Severity",
              "site": "Site"
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "field": "Time"
              }
            ]
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "gridPos": {
        "h": 4,
        "w": 8,
        "x": 0,
        "y": 5
      },
      "id": 162,
      "links": [
        {
          "title": "Hardware Sentry OpenTelemetry Collector",
          "url": "https://www.sentrysoftware.com/products/hardware-sentry-opentelemetry-collector.html"
        }
      ],
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "<a href=\"https://www.sentrysoftware.com/products/hardware-sentry-opentelemetry-collector.html\" target=\"_blank\">\n<div style=\"background: #76a600 url(https://dl.sentrysoftware.com/public/otel-dl-link.png) no-repeat center; background-size: contain; margin: 0; padding: 0px; border-radius: 3px; height: 100%; width: 100%;\">\n</div>\n</a>",
        "mode": "html"
      },
      "pluginVersion": "10.2.0",
      "type": "text"
    },
    {
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 356,
      "title": "Power, Cost and CO₂ Emissions",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Total current power usage across all sites, multiplied by the site's PUE.\n\nThis number represents the actual power usage of all sites. It takes into account the cooling and other overhead that supports the equipment.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "fixed"
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "watt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 4,
        "x": 0,
        "y": 10
      },
      "id": 181,
      "interval": "1h",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(sum by (site) (hw_host_power_watts) * avg by (site) (hw_site_pue_ratio))",
          "instant": true,
          "interval": "",
          "legendFormat": "Total Power * PUE",
          "refId": "A"
        }
      ],
      "title": "Total Power * PUE",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Total current power usage across all sites, multiplied by the site's PUE, displayed as a graph.\n\nThis number represents the actual power usage of all sites. It takes into account the cooling and other overhead that supports the equipment.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": false,
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 51,
            "gradientMode": "hue",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "smooth",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 2,
            "pointSize": 6,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "blue",
                "value": null
              }
            ]
          },
          "unit": "watt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 11,
        "w": 8,
        "x": 4,
        "y": 10
      },
      "id": 366,
      "interval": "5m",
      "options": {
        "legend": {
          "calcs": [
            "min",
            "max",
            "last"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "mode": "single",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "expr": "sum(sum by (site) (hw_host_power_watts) * avg by (site) (avg_over_time(hw_site_pue_ratio{site=~\"$site\"}[2h])))",
          "hide": false,
          "instant": false,
          "legendFormat": "Total Power * PUE",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Total Power * PUE",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "",
      "gridPos": {
        "h": 2,
        "w": 3,
        "x": 12,
        "y": 10
      },
      "id": 351,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "<h3 style=\"background-color:DimGray\"><center>Live Data</center></h3>",
        "mode": "html"
      },
      "pluginVersion": "10.2.0",
      "type": "text"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "",
      "gridPos": {
        "h": 2,
        "w": 9,
        "x": 15,
        "y": 10
      },
      "id": 352,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "<h3 style=\"background-color:DimGray\"><center>Cumulative Data</center></h3>",
        "mode": "html"
      },
      "pluginVersion": "10.2.0",
      "type": "text"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Today's total power consumption for all sites.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 12,
        "y": 12
      },
      "hideTimeOverride": true,
      "id": 367,
      "interval": "5m",
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "expr": "sum(sum by (site) (increase(hw_host_energy_joules_total{site !=\"\"}[$__range])) * avg_over_time(avg by (site) (hw_site_pue_ratio)[$__range:5m])) / 3600",
          "hide": false,
          "legendFormat": "Today's Live Consumption ",
          "range": true,
          "refId": "A"
        }
      ],
      "timeFrom": "now/d",
      "title": "Today's Live Consumption ",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall power consumption reported for all sites in the last 24 hours.\n\nIf less than 24 hours of data is available, this value is estimated based on the past collected data.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "green",
                "value": 80
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 15,
        "y": 12
      },
      "id": 328,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[1d:5m]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1d:5m])) * 24",
          "format": "time_series",
          "instant": true,
          "interval": "",
          "legendFormat": "Daily Consumption",
          "refId": "A"
        }
      ],
      "title": "Daily Consumption",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall energy cost of all sites for the last 24 hours.\n\nIf less than 24 hours of data is available, this value is estimated based on past collected data.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "currencyUSD"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 18,
        "y": 12
      },
      "id": 99,
      "interval": "5m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[1d:5m]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1d:5m]) * avg_over_time(avg by (site) (hw_site_electricity_cost)[1d:5m])) * 24 / 1000",
          "instant": true,
          "interval": "",
          "legendFormat": "Daily Cost",
          "refId": "A"
        }
      ],
      "title": "Daily Cost",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall volume of CO₂ emitted by all the sites for the last 24 hours.\n\nIf less than 24 hours of data is available, this value is estimated based on the past collected data.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#808080",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              }
            ]
          },
          "unit": "masst"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 21,
        "y": 12
      },
      "id": 331,
      "interval": "5m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[1d:5m]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1d:5m]) * avg_over_time(avg by (site) (hw_site_carbon_intensity_grams)[1d:5m])) * 24 / 1000 / 1000 / 1000",
          "instant": true,
          "interval": "",
          "legendFormat": "Daily CO₂ Emissions",
          "refId": "A"
        }
      ],
      "title": "Daily CO₂ Emissions",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Total current power usage of all hosts across all sites.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "fixed"
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "watt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 4,
        "x": 0,
        "y": 14
      },
      "id": 155,
      "interval": "1h",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(hw_host_power_watts) ",
          "instant": true,
          "interval": "",
          "legendFormat": "Total Power",
          "refId": "A"
        }
      ],
      "title": "Total Power",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Today's total power cost for all sites.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "green",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "currencyUSD"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 12,
        "y": 15
      },
      "hideTimeOverride": true,
      "id": 330,
      "interval": "5m",
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "expr": "sum(sum by (site) (increase(hw_host_energy_joules_total[$__range])) * avg_over_time(avg by (site) (hw_site_pue_ratio)[$__range:5m]) * avg_over_time(avg by (site) (hw_site_electricity_cost)[$__range:5m])) / 3600 / 1000",
          "hide": false,
          "legendFormat": "Today's Live Cost",
          "range": true,
          "refId": "A"
        }
      ],
      "timeFrom": "now/d",
      "title": "Today's Live Cost",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall power consumption reported for all sites during the last 30 days.\n\nIf less than 30 days of data is available, this value is estimated based on past collected data.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "semi-dark-blue",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "green",
                "value": 80
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 15,
        "y": 15
      },
      "id": 320,
      "interval": "5m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[30d:1h]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[30d:1h])) * 30.437 * 24",
          "format": "time_series",
          "instant": true,
          "interval": "",
          "legendFormat": "Monthly Consumption",
          "refId": "A"
        }
      ],
      "title": "Monthly Consumption",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall energy cost of all sites for the last 30 days.\n\nIf less than 30 days of data is available, this value is estimated based on past collected data.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "semi-dark-green",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "currencyUSD"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 18,
        "y": 15
      },
      "id": 321,
      "interval": "5m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[30d:1h]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[30d:1h]) * avg_over_time(avg by (site) (hw_site_electricity_cost)[30d:1h])) * 30.437 * 24 / 1000",
          "instant": true,
          "interval": "",
          "legendFormat": "Monthly Cost",
          "refId": "A"
        }
      ],
      "title": "Monthly Cost",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall volume of CO₂ emitted by all the sites for the last 30 days.\n\nIf less than 30 days of data is available, this value is estimated based on the past collected data.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#525252",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              }
            ]
          },
          "unit": "masst"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 21,
        "y": 15
      },
      "id": 319,
      "interval": "5m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[30d:1h]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[30d:1h]) * avg_over_time(avg by (site) (hw_site_carbon_intensity_grams)[30d:1h])) * 30.467 * 24 / 1000 / 1000 / 1000",
          "instant": true,
          "interval": "",
          "legendFormat": "Monthly CO₂ Emissions",
          "refId": "A"
        }
      ],
      "title": "Monthly CO₂ Emissions",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The power consumption's margin of error.\n\nThis value is based on the number of hosts that report measured power consumptions and the number of hosts whose power consumption is estimated.\n\nWhen the power consumed by a host cannot be read, Hardware Sentry estimates this value based on the host's components (CPUs, disks, network interfaces, etc.) and their usage.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "decimals": 0,
          "links": [],
          "mappings": [],
          "noValue": "25%",
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "super-light-yellow",
                "value": null
              },
              {
                "color": "super-light-green",
                "value": 10
              },
              {
                "color": "super-light-yellow",
                "value": 11
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 4,
        "x": 0,
        "y": 18
      },
      "id": 363,
      "interval": "2m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "(sum(hw_host_power_watts{quality=\"estimated\"} * 15) + sum(hw_host_power_watts{quality=\"measured\"} * 5) + 10000 * (sum(present_over_time(hardware_sentry_host_configured[1h])) - (count(max by (host_id) (hardware_sentry_connector_status{state=\"ok\"} == 1))))) / (sum(hw_host_power_watts) + 100 * (sum(present_over_time(hardware_sentry_host_configured[1h])) - (count(max by (host_id) (hardware_sentry_connector_status{state=\"ok\"} == 1)))))",
          "hide": false,
          "instant": true,
          "legendFormat": "Margin of Error",
          "range": false,
          "refId": "A"
        }
      ],
      "title": "Margin of Error",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": []
          }
        }
      ],
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Today's volume of CO₂ emissions for all sites.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#808080",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              }
            ]
          },
          "unit": "masst"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 12,
        "y": 18
      },
      "hideTimeOverride": true,
      "id": 368,
      "interval": "5m",
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(sum by (site) (increase(hw_host_energy_joules_total[$__range])) * avg_over_time(avg by (site) (hw_site_pue_ratio)[$__range:5m]) * avg_over_time(avg by (site) (hw_site_carbon_intensity_grams)[$__range:5m])) / 3600 / 1000 / 1000 / 1000",
          "hide": false,
          "instant": true,
          "legendFormat": "Today's Live CO₂ Emissions",
          "range": false,
          "refId": "A"
        }
      ],
      "timeFrom": "now/d",
      "title": "Today's Live CO₂ Emissions",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall power consumption reported for all sites during the last year.\n\nIf less than 365 days of data is available, this value is estimated based on past collected data.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "dark-blue",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "green",
                "value": 80
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 15,
        "y": 18
      },
      "id": 317,
      "interval": "5m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[1y:1d]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1y:1d])) * 365 * 24",
          "format": "time_series",
          "instant": true,
          "interval": "",
          "legendFormat": "Yearly Consumption",
          "refId": "A"
        }
      ],
      "title": "Yearly Consumption",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall energy cost of all sites for the past year.\n\nIf less than 365 days of data is available, this value is estimated based on past collected data.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "dark-green",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "currencyUSD"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 18,
        "y": 18
      },
      "id": 318,
      "interval": "5m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[1y:1d]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1y:1d]) * avg_over_time(avg by (site) (hw_site_electricity_cost)[1y:1d])) * 365 * 24 / 1000",
          "instant": true,
          "interval": "",
          "legendFormat": "Yearly Cost",
          "refId": "A"
        }
      ],
      "title": "Yearly Cost",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall volume of CO₂ emitted by all the sites for the past year.\n\nIf less than 365 days of data is available, this value is estimated based on the past collected data.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#414141",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              }
            ]
          },
          "unit": "masst"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 3,
        "x": 21,
        "y": 18
      },
      "id": 322,
      "interval": "5m",
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[1y:1d]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1y:1d]) * avg_over_time(avg by (site) (hw_site_carbon_intensity_grams)[1y:1d])) * 365 * 24 / 1000 / 1000 / 1000",
          "instant": true,
          "interval": "",
          "legendFormat": "Yearly CO₂ Emissions",
          "refId": "A"
        }
      ],
      "title": "Yearly CO₂ Emissions",
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 21
      },
      "id": 354,
      "panels": [],
      "title": "Sites",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "left",
            "cellOptions": {
              "type": "auto"
            },
            "filterable": true,
            "inspect": false
          },
          "links": [
            {
              "title": "",
              "url": "/d/SHFBpSH7z/site-information?orgId=1&var-site=${__data.fields.site}"
            }
          ],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Electricity Cost (per kWh)"
            },
            "properties": [
              {
                "id": "custom.cellOptions",
                "value": {
                  "mode": "gradient",
                  "type": "gauge"
                }
              },
              {
                "id": "unit",
                "value": "currencyUSD"
              },
              {
                "id": "min",
                "value": 0
              },
              {
                "id": "max",
                "value": 0.4
              },
              {
                "id": "color",
                "value": {
                  "mode": "continuous-GrYlRd"
                }
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "CO₂ Intensity"
            },
            "properties": [
              {
                "id": "unit",
                "value": "massg"
              },
              {
                "id": "min",
                "value": 0
              },
              {
                "id": "max",
                "value": 500
              },
              {
                "id": "color",
                "value": {
                  "mode": "continuous-GrYlRd"
                }
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "mode": "gradient",
                  "type": "gauge"
                }
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "site"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "left"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "PUE"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Total Power"
            },
            "properties": [
              {
                "id": "unit",
                "value": "watt"
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "mode": "gradient",
                  "type": "gauge"
                }
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-blue",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Hosts Sites Distribution"
            },
            "properties": [
              {
                "id": "unit",
                "value": "percentunit"
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "PUE"
            },
            "properties": [
              {
                "id": "min",
                "value": 1
              },
              {
                "id": "max",
                "value": 2.5
              },
              {
                "id": "color",
                "value": {
                  "mode": "continuous-GrYlRd"
                }
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "type": "color-text"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Ambient Temperature"
            },
            "properties": [
              {
                "id": "unit",
                "value": "celsius"
              },
              {
                "id": "min",
                "value": 18
              },
              {
                "id": "max",
                "value": 30
              },
              {
                "id": "color",
                "value": {
                  "mode": "continuous-BlYlRd"
                }
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "mode": "basic",
                  "type": "color-background"
                }
              },
              {
                "id": "custom.align",
                "value": "center"
              },
              {
                "id": "noValue",
                "value": "No Temperatures"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Heating Margin"
            },
            "properties": [
              {
                "id": "unit",
                "value": "celsius"
              },
              {
                "id": "min",
                "value": 0
              },
              {
                "id": "max",
                "value": 21
              },
              {
                "id": "color",
                "value": {
                  "mode": "continuous-RdYlGr"
                }
              },
              {
                "id": "custom.cellOptions",
                "value": {
                  "mode": "basic",
                  "type": "color-background"
                }
              },
              {
                "id": "noValue",
                "value": "No Temperatures"
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Hosts Count"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "CO₂ Intensity"
            },
            "properties": [
              {
                "id": "unit",
                "value": "grams/kWh"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Electricity Cost"
            },
            "properties": [
              {
                "id": "unit",
                "value": "$/kWh"
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 7,
        "w": 24,
        "x": 0,
        "y": 22
      },
      "id": 314,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "enablePagination": true,
          "fields": [
            "Value #D"
          ],
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": [
          {
            "desc": false,
            "displayName": "Electricity Cost (per kWh)"
          }
        ]
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "avg by (site) (hw_site_electricity_cost{site != \"\"})",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "avg by (site) (hw_site_carbon_intensity_grams{site != \"\"})",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "avg by (site) (avg_over_time(hw_site_pue_ratio{site != \"\"}[1d]))",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "sum by (site) (hw_host_power_watts{site != \"\"})",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "D"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "sum by (site) (hardware_sentry_host_up)",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "E"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "(sum by (site) (hardware_sentry_host_up)) / scalar(sum(hardware_sentry_host_up))",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "F"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "avg by (site) (hw_host_ambient_temperature_celsius{site != \"\"})",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "G"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "min by (site) (hw_host_heating_margin_celsius{site != \"\"})",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "H"
        }
      ],
      "transformations": [
        {
          "id": "merge",
          "options": {}
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true,
              "site": false
            },
            "indexByName": {
              "Time": 0,
              "Value #A": 6,
              "Value #B": 7,
              "Value #C": 5,
              "Value #D": 4,
              "Value #E": 2,
              "Value #F": 3,
              "site": 1
            },
            "renameByName": {
              "Time": "",
              "Value #A": "Electricity Cost",
              "Value #B": "CO₂ Intensity",
              "Value #C": "PUE",
              "Value #D": "Total Power",
              "Value #E": "Hosts Count",
              "Value #F": "Hosts Sites Distribution",
              "Value #G": "Ambient Temperature",
              "Value #H": "Heating Margin",
              "site": "Site",
              "{site=\"Boston\"}": "Hosts Count"
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "field": "site"
              }
            ]
          }
        }
      ],
      "type": "table"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The sites' yearly power consumption.\n\nThese values are estimated according to the past data if less than a year of data has been collected.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "dark-blue",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": false,
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "fillOpacity": 80,
            "gradientMode": "hue",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [
            {
              "title": "Site Information",
              "url": "/d/SHFBpSH7z/site-information?orgId=1&var-site=${__data.fields.site}"
            }
          ],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 8,
        "x": 0,
        "y": 29
      },
      "id": 119,
      "interval": "5m",
      "options": {
        "barRadius": 0,
        "barWidth": 0.95,
        "fullHighlight": false,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "orientation": "vertical",
        "showValue": "never",
        "stacking": "none",
        "text": {},
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": -45,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "8.1.4",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "avg_over_time(sum by (site) (hw_host_power_watts)[1y:1d]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1y:1d]) * 365 * 24",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "{{site}}",
          "refId": "B"
        }
      ],
      "title": "Yearly Consumption",
      "transformations": [
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "field": "site"
              }
            ]
          }
        }
      ],
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The sites' yearly cost.\n\nThese values are estimated according to the past data if less than a year of data has been collected.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "dark-green",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": false,
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "fillOpacity": 80,
            "gradientMode": "hue",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [
            {
              "title": "Site Information",
              "url": "/d/SHFBpSH7z/site-information?orgId=1&var-site=${__data.fields.site}"
            }
          ],
          "mappings": [],
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "currencyUSD"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 8,
        "x": 8,
        "y": 29
      },
      "id": 114,
      "interval": "5m",
      "options": {
        "barRadius": 0,
        "barWidth": 0.95,
        "fullHighlight": false,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "orientation": "vertical",
        "showValue": "never",
        "stacking": "none",
        "text": {},
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": -45,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "8.1.4",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "avg_over_time(sum by (site) (hw_host_power_watts)[1y:1d]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1y:1d]) * avg_over_time(avg by (site) (hw_site_electricity_cost)[1y:1d]) * 365 * 24 / 1000",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "{{site}}",
          "refId": "A"
        }
      ],
      "title": "Yearly Cost",
      "transformations": [
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "field": "site"
              }
            ]
          }
        }
      ],
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The sites' yearly CO₂ emissions. \n\nThese values are estimated according to the past data if less than a year of data has been collected.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#414141",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": false,
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "fillOpacity": 80,
            "gradientMode": "hue",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "links": [
            {
              "title": "Site Information",
              "url": "/d/SHFBpSH7z/site-information?orgId=1&var-site=${__data.fields.site}"
            }
          ],
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "#ccccdc",
                "value": null
              }
            ]
          },
          "unit": "masst"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 8,
        "x": 16,
        "y": 29
      },
      "id": 115,
      "interval": "5m",
      "options": {
        "barRadius": 0,
        "barWidth": 0.95,
        "fullHighlight": false,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [
            "last"
          ],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "orientation": "vertical",
        "showValue": "never",
        "stacking": "none",
        "text": {},
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": -45,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "8.1.4",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "avg_over_time(sum by (site) (hw_host_power_watts)[1y:1d]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1y:1d]) * avg_over_time(avg by (site) (hw_site_carbon_intensity_grams)[1y:1d]) * 365 * 24 / 1000 / 1000 / 1000",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "{{site}}",
          "refId": "A"
        }
      ],
      "title": "Yearly CO₂",
      "transformations": [
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "field": "site"
              }
            ]
          }
        }
      ],
      "type": "barchart"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "PC0C560764E810AEE"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 38
      },
      "id": 316,
      "panels": [],
      "title": "Power and Host Information",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 10 hosts that currently consume the most energy across all sites.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "thresholds"
          },
          "links": [
            {
              "title": "",
              "url": "d/c2K8skm4k/host?orgId=1&var-site=${__field.labels.site}&var-host_name=${__field.labels.host_name}"
            }
          ],
          "mappings": [],
          "max": 2000,
          "min": 500,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "super-light-blue"
              },
              {
                "color": "light-blue",
                "value": 500
              },
              {
                "color": "semi-dark-blue",
                "value": 1000
              },
              {
                "color": "dark-blue",
                "value": 2000
              }
            ]
          },
          "unit": "watt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 5,
        "x": 0,
        "y": 39
      },
      "id": 179,
      "options": {
        "displayMode": "gradient",
        "minVizHeight": 10,
        "minVizWidth": 0,
        "namePlacement": "auto",
        "orientation": "horizontal",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showUnfilled": true,
        "valueMode": "color"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "topk(10, hw_host_power_watts)",
          "instant": true,
          "interval": "",
          "legendFormat": "{{site}}: {{host_name}} ",
          "refId": "A"
        }
      ],
      "title": "Top Consumers",
      "type": "bargauge"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The power consumption distribution by host types: compute (server), storage and network.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "unit": "watt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 4,
        "x": 5,
        "y": 39
      },
      "id": 177,
      "options": {
        "displayLabels": [
          "name",
          "value",
          "percent"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "right",
          "showLegend": false,
          "values": []
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "sum by (host_type) (hw_host_power_watts)",
          "instant": true,
          "interval": "",
          "legendFormat": "{{host_type}}",
          "refId": "A"
        }
      ],
      "title": "Power per Host Type",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The power consumption distribution across platform types: \nHP-UX, IBM AIX, Management (i.e management card), Microsoft Windows, Linux, \nOracle Solaris and Storage.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "links": [],
          "mappings": [
            {
              "options": {
                "linux": {
                  "index": 0,
                  "text": "Linux"
                },
                "management": {
                  "index": 1,
                  "text": "Out-of-band"
                }
              },
              "type": "value"
            }
          ],
          "unit": "watt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 5,
        "x": 9,
        "y": 39
      },
      "id": 172,
      "options": {
        "displayLabels": [
          "name",
          "percent"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "right",
          "showLegend": false,
          "values": []
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "sum by (os_type) (hw_host_power_watts)",
          "instant": true,
          "interval": "",
          "legendFormat": "{{site}}",
          "refId": "A"
        }
      ],
      "title": "Power per Platform Type",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The total number of hosts per type: compute (server), storage and network.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 5,
        "x": 14,
        "y": 39
      },
      "id": 168,
      "options": {
        "displayLabels": [
          "name",
          "value",
          "percent"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "right",
          "showLegend": false,
          "values": []
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "sum by (host_type) (hw_host_configured)",
          "instant": true,
          "interval": "",
          "legendFormat": "{{host_type}}",
          "refId": "A"
        }
      ],
      "title": "Hosts Type",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The hosts distribution per manufacturer.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 5,
        "x": 19,
        "y": 39
      },
      "id": 308,
      "options": {
        "displayLabels": [
          "name",
          "percent"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "right",
          "showLegend": false,
          "values": []
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "mode": "multi",
          "sort": "none"
        }
      },
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "count by (vendor) (label_replace(hw_status{hw_type=\"enclosure\", state=\"present\"}, \"vendor\", \"Unknown\", \"vendor\", \"^$\"))",
          "instant": true,
          "interval": "",
          "legendFormat": "{{vendor}}",
          "refId": "A"
        }
      ],
      "title": "Hosts Vendor",
      "type": "piechart"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "PC0C560764E810AEE"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 48
      },
      "id": 306,
      "panels": [],
      "title": "Hosts Temperatures",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The 25 hosts reporting the hottest ambient temperature.\n\nClick on a host for details.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-BlYlRd"
          },
          "decimals": 1,
          "links": [
            {
              "title": "",
              "url": "d/c2K8skm4k/host?orgId=1&var-site=${__data.fields.site}&var-host_name=${__data.fields.host_name}"
            }
          ],
          "mappings": [],
          "max": 30,
          "min": 18,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "celsius"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 24,
        "x": 0,
        "y": 49
      },
      "id": 277,
      "interval": "2m",
      "maxDataPoints": 1,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": true
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "topk(25, hw_host_ambient_temperature_celsius)",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "title": "Hosts Ambient Temperature",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "host_name",
                "name",
                "site",
                "Value"
              ]
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "field": "Value"
              }
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true,
              "Value": false,
              "__name__": true,
              "agent_host_name": true,
              "host_id": true,
              "host_name": false,
              "host_type": true,
              "id": true,
              "label": true,
              "location": true,
              "os_type": true,
              "site": false
            },
            "indexByName": {
              "Time": 2,
              "Value": 1,
              "__name__": 3,
              "agent_host_name": 4,
              "host_id": 5,
              "host_name": 6,
              "host_type": 7,
              "id": 8,
              "label": 9,
              "location": 10,
              "os_type": 11,
              "site": 0
            },
            "renameByName": {}
          }
        }
      ],
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The temperature sensors reporting the highest temperatures at the moment.\n\nClick on a temperature for details.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-BlYlRd"
          },
          "decimals": 1,
          "links": [
            {
              "title": "",
              "url": "d/c2K8skm4k/host?orgId=1&var-site=${__data.fields.site}&var-host_name=${__data.fields.host_name}"
            }
          ],
          "mappings": [],
          "max": 60,
          "min": 18,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "celsius"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 4,
        "w": 24,
        "x": 0,
        "y": 53
      },
      "id": 299,
      "interval": "2m",
      "maxDataPoints": 1,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [],
          "fields": "",
          "values": true
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "topk(25, max by (site, host_name) (hw_temperature_celsius))",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "title": "Hosts Highest Temperature Sensor ",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "host_name",
                "site",
                "Value"
              ]
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true,
              "Value": false,
              "host_name": false
            },
            "indexByName": {
              "Time": 2,
              "Value": 3,
              "host_name": 1,
              "site": 0
            },
            "renameByName": {}
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "field": "Value"
              }
            ]
          }
        }
      ],
      "type": "stat"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "PC0C560764E810AEE"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 57
      },
      "id": 194,
      "panels": [],
      "title": "History",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "The overall daily energy consumption for the past 30 days, as reported.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "displayName": "Daily Energy Consumption (last 30 days)",
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "blue"
              }
            ]
          },
          "unit": "watth"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "unit",
                "value": "time:dddd DD/MM"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 24,
        "x": 0,
        "y": 58
      },
      "hideTimeOverride": true,
      "id": 333,
      "options": {
        "barRadius": 0,
        "barWidth": 0.95,
        "fullHighlight": false,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [
            "min",
            "max",
            "last"
          ],
          "displayMode": "table",
          "placement": "bottom",
          "showLegend": true
        },
        "orientation": "auto",
        "showValue": "always",
        "stacking": "none",
        "tooltip": {
          "mode": "single",
          "sort": "none"
        },
        "xTickLabelRotation": -45,
        "xTickLabelSpacing": 0
      },
      "pluginVersion": "8.5.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(avg_over_time(sum by (site) (hw_host_power_watts)[1d:5m]) * avg_over_time(avg by (site) (hw_site_pue_ratio)[1d:5m])) * 24 + ignoring(year, month, day) group_right\r\n  count_values without() (\"year\", year(timestamp(\r\n    count_values without() (\"month\", month(timestamp(\r\n\t\t\tcount_values without() (\"day\", day_of_month(timestamp(\r\n        sum((sum by (site) (increase(hw_host_energy_joules_total{site != \"\"} [1d]))) / avg by (site) (increase(timestamp(hw_host_energy_joules_total{site != \"\"})[1d:1d])) * 24 * avg by (site) (hw_site_pue_ratio{site != \"\"}))\r\n\t\t\t\t)))\r\n    )))\r\n  ))) * 0",
          "format": "table",
          "instant": false,
          "interval": "",
          "legendFormat": "{{unit}}",
          "refId": "A"
        }
      ],
      "timeFrom": "now-30d",
      "timeShift": "1d",
      "title": "Daily Energy Consumption (last 30 days)",
      "transformations": [
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "regex",
                  "options": {
                    "value": "NaN"
                  }
                },
                "fieldName": "Value"
              }
            ],
            "match": "any",
            "type": "exclude"
          }
        },
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "Time",
                "Value"
              ]
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "desc": false,
                "field": "Time"
              }
            ]
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": false,
              "Value": false,
              "day": true,
              "month": true,
              "year": true
            },
            "indexByName": {},
            "renameByName": {
              "Time": "",
              "day": ""
            }
          }
        }
      ],
      "type": "barchart"
    },
    {
      "collapsed": false,
      "datasource": {
        "type": "prometheus",
        "uid": "PC0C560764E810AEE"
      },
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 70
      },
      "id": 107,
      "panels": [],
      "title": "Hardware Sentry Agents Status",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Time since the collect of data by Hardware Sentry was first started.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "text",
            "mode": "fixed"
          },
          "links": [],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "dateTimeFromNow"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Value * 1000"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "Collect Started"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 0,
        "y": 71
      },
      "id": 348,
      "interval": "1h",
      "options": {
        "colorMode": "value",
        "graphMode": "none",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {
          "valueSize": 32
        },
        "textMode": "auto"
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "min_over_time(timestamp(hw_host_configured)[1y:1w])",
          "format": "table",
          "hide": false,
          "instant": true,
          "interval": "",
          "legendFormat": "__auto",
          "refId": "A"
        }
      ],
      "title": "Collect Started",
      "transformations": [
        {
          "id": "calculateField",
          "options": {
            "alias": "",
            "binary": {
              "left": "Value",
              "operator": "*",
              "reducer": "sum",
              "right": "1000"
            },
            "mode": "binary",
            "reduce": {
              "include": [
                "Last Seen"
              ],
              "reducer": "last"
            },
            "replaceFields": false
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true,
              "Time 1": true,
              "Time 2": true,
              "Value": true,
              "Value #A": true,
              "__name__": true,
              "agent_host_name": false,
              "build_number": true,
              "build_number 2": true,
              "hc_version 2": true,
              "host_id": true,
              "host_id 1": true,
              "host_id 2": true,
              "host_name": true,
              "host_name 1": true,
              "host_name 2": true,
              "host_type": true,
              "host_type 1": true,
              "host_type 2": true,
              "os_type": true,
              "os_type 1": true,
              "os_type 2": true,
              "project_name": true,
              "project_name 1": true,
              "project_name 2": true,
              "project_version 2": true,
              "service_name": true,
              "service_name 1": true,
              "service_name 2": true,
              "site 2": true,
              "timestamp": true,
              "timestamp 1": true,
              "timestamp 2": true
            },
            "indexByName": {
              "Last Seen": 15,
              "Time": 6,
              "Value": 14,
              "agent_host_name": 1,
              "build_date": 3,
              "build_number": 4,
              "hc_version": 5,
              "host_id": 7,
              "host_name": 8,
              "host_type": 9,
              "os_type": 10,
              "project_name": 11,
              "project_version": 2,
              "service_name": 12,
              "site": 0,
              "timestamp": 13
            },
            "renameByName": {
              "Time": "",
              "Value": "",
              "agent_host_name": "Hostname",
              "build_date": "Agent Build Date",
              "build_number": "",
              "build_number 1": "Agent Build Number",
              "hc_version": "Connectors Version",
              "hc_version 1": "Connectors Version",
              "project_version": "Agent Version",
              "project_version 1": "Agent Version",
              "site": "Site",
              "site 1": "Site",
              "timestamp": ""
            }
          }
        }
      ],
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "cellOptions": {
              "type": "auto"
            },
            "filterable": true,
            "inspect": false
          },
          "links": [
            {
              "title": "",
              "url": "/d/SHFBpSH7z/site-information?orgId=1&var-site=${__data.fields.site}﻿"
            }
          ],
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Last Seen"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 316
              },
              {
                "id": "unit",
                "value": "dateTimeFromNow"
              },
              {
                "id": "custom.align",
                "value": "right"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Hostname"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "left"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Site"
            },
            "properties": [
              {
                "id": "custom.align",
                "value": "left"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 21,
        "x": 3,
        "y": 71
      },
      "id": 206,
      "interval": "1h",
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": [
          {
            "desc": false,
            "displayName": "Site"
          }
        ]
      },
      "pluginVersion": "10.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "exemplar": false,
          "expr": "last_over_time(timestamp(hardware_sentry_agent_info)[6h:])",
          "format": "table",
          "instant": true,
          "interval": "",
          "legendFormat": "",
          "refId": "A"
        }
      ],
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "agent_host_name",
                "build_date",
                "hc_version",
                "site",
                "version",
                "Value"
              ]
            }
          }
        },
        {
          "id": "calculateField",
          "options": {
            "alias": "Last Seen",
            "binary": {
              "left": "Value",
              "operator": "*",
              "reducer": "sum",
              "right": "1000"
            },
            "mode": "binary",
            "reduce": {
              "include": [
                "Last Seen"
              ],
              "reducer": "last"
            },
            "replaceFields": false
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {
              "Time": true,
              "Time 1": true,
              "Time 2": true,
              "Value": true,
              "Value #A": true,
              "__name__": true,
              "agent_host_name": false,
              "build_number": true,
              "build_number 2": true,
              "hc_version 2": true,
              "host_id": true,
              "host_id 1": true,
              "host_id 2": true,
              "host_name": true,
              "host_name 1": true,
              "host_name 2": true,
              "host_type": true,
              "host_type 1": true,
              "host_type 2": true,
              "job": true,
              "name": true,
              "os_type": true,
              "os_type 1": true,
              "os_type 2": true,
              "otel_version": true,
              "project_name": true,
              "project_name 1": true,
              "project_name 2": true,
              "project_version": true,
              "project_version 2": true,
              "service_name": true,
              "service_name 1": true,
              "service_name 2": true,
              "site 2": true,
              "timestamp": true,
              "timestamp 1": true,
              "timestamp 2": true
            },
            "indexByName": {
              "Last Seen": 5,
              "Time": 7,
              "Value": 16,
              "agent_host_name": 1,
              "build_date": 3,
              "build_number": 6,
              "hc_version": 4,
              "host_id": 8,
              "host_name": 9,
              "host_type": 11,
              "job": 17,
              "name": 15,
              "os_type": 12,
              "otel_version": 18,
              "project_name": 13,
              "project_version": 10,
              "service_name": 14,
              "site": 0,
              "version": 2
            },
            "renameByName": {
              "Last Seen": "",
              "Time": "",
              "Value": "",
              "agent_host_name": "Hostname",
              "build_date": "Build Date",
              "build_number": "",
              "build_number 1": "Agent Build Number",
              "hc_version": "Connectors Version",
              "hc_version 1": "Connectors Version",
              "name": "",
              "project_version": "",
              "project_version 1": "Agent Version",
              "site": "Site",
              "site 1": "Site",
              "timestamp": "",
              "version": "Version"
            }
          }
        }
      ],
      "type": "table"
    }
  ],
  "refresh": "30s",
  "schemaVersion": 38,
  "tags": [
    "hw_main"
  ],
  "templating": {
    "list": [
      {
        "current": {},
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "label_values(site)",
        "hide": 2,
        "includeAll": true,
        "label": "site",
        "multi": true,
        "name": "site",
        "options": [],
        "query": {
          "query": "label_values(site)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 2,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-7d",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "Hardware Sentry - Main",
  "uid": "-GV2ChOnz",
  "version": 9,
  "weekStart": ""
}